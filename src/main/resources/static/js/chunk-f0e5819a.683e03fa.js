(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f0e5819a","chunk-2d0aeb1c","chunk-2d213557"],{"0ac8":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a-modal",{attrs:{destroyOnClose:!0,width:900,height:600,visible:t.visible,title:t.initvalue?"编辑":"新建"},model:{value:t.visible,callback:function(a){t.visible=a},expression:"visible"}},[e("div",{staticClass:"main"},[e("a-form-model",{ref:"form",attrs:{layout:t.formLayout,model:t.form,rules:t.rules}},[e("a-form-model-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:"id",prop:"id","label-col":t.formItemLayout.labelCol,"wrapper-col":t.formItemLayout.wrapperCol}},[e("a-input",{model:{value:t.form.id,callback:function(a){t.$set(t.form,"id",a)},expression:"form.id"}})],1),e("a-form-model-item",{attrs:{label:"连接名称",prop:"name","label-col":t.formItemLayout.labelCol,"wrapper-col":t.formItemLayout.wrapperCol}},[e("a-input",{attrs:{placeholder:"请输入连接名称"},model:{value:t.form.name,callback:function(a){t.$set(t.form,"name",a)},expression:"form.name"}})],1),e("a-form-model-item",{attrs:{label:"url",prop:"url","label-col":t.formItemLayout.labelCol,"wrapper-col":t.formItemLayout.wrapperCol}},[e("a-input",{attrs:{placeholder:"请输入url"},model:{value:t.form.url,callback:function(a){t.$set(t.form,"url",a)},expression:"form.url"}})],1),e("a-form-model-item",{attrs:{label:"username",prop:"username","label-col":t.formItemLayout.labelCol,"wrapper-col":t.formItemLayout.wrapperCol}},[e("a-input",{attrs:{placeholder:"请输入username"},model:{value:t.form.username,callback:function(a){t.$set(t.form,"username",a)},expression:"form.username"}})],1),e("a-form-model-item",{attrs:{label:"password",prop:"password","label-col":t.formItemLayout.labelCol,"wrapper-col":t.formItemLayout.wrapperCol}},[e("a-input",{attrs:{type:"password",placeholder:"请输入password"},model:{value:t.form.password,callback:function(a){t.$set(t.form,"password",a)},expression:"form.password"}})],1),e("a-form-model-item",{attrs:{label:"备注",prop:"remark","label-col":t.formItemLayout.labelCol,"wrapper-col":t.formItemLayout.wrapperCol}},[e("a-input",{attrs:{placeholder:"请输入备注"},model:{value:t.form.remark,callback:function(a){t.$set(t.form,"remark",a)},expression:"form.remark"}})],1)],1)],1),e("template",{slot:"footer"},[e("a-button",{attrs:{type:"primary"},on:{click:function(a){return t.handleEdit()}}},[t._v(" 提交 ")]),e("a-button",{attrs:{type:"primary"},on:{click:function(a){return t.handleTestLink()}}},[t._v(" 测试连接 ")]),e("a-button",{on:{click:function(a){return t.handleClose()}}},[t._v(" 取消 ")])],1)],2)},r=[],n=e("2410"),o=e.n(n),l=e("b775"),i=e("f64c"),c={labelCol:{span:5},wrapperCol:{span:16}},u={props:{initvalue:{type:Object,default:null}},watch:{initvalue:function(){if(this.initvalue)for(var t in this.initvalue)this.form[t]=this.initvalue[t];else this.form=o()(this.initForm)}},methods:{show:function(){this.visible=!0},handleTestLink:function(){var t=this;this.$refs.form.validate((function(a){if(a){var e=t.form;Object(l["b"])({url:"/datasources/testLinkPayload",method:"post",dataType:"json",data:e}).then((function(t){"S"===t.head.status?i["a"].success(t.head.msg):i["a"].error(t.head.msg)})).catch((function(t){console.log(t)}))}}))},handleClose:function(){this.form=o()(this.initForm),this.form.param="",this.visible=!1},handleEdit:function(){var t=this;this.$refs.form.validate((function(a){if(a){var e=t.form;Object(l["b"])({url:"/datasources/saveOrEdit",method:"post",dataType:"json",data:e}).then((function(a){"S"===a.head.status?(i["a"].success(a.head.msg),t.handleClose(),t.$emit("refresh")):i["a"].error(a.head.msg)})).catch((function(t){console.log(t)}))}}))}},data:function(){return{visible:!1,formLayout:"horizontal",formItemLayout:c,form:{id:null,name:"",url:"",username:"",password:"",remark:""},initForm:{id:null,name:"",url:"",username:"",password:"",remark:""},rules:{name:[{required:!0,message:"请输入"},{max:50,message:"最多输入50个字符"},{pattern:/^(?!(\s+$))/,message:"输入格式错误"}],url:[{required:!0,message:"请输入"},{max:256,message:"最多输入256个字符"}],username:[{required:!0,message:"请输入"},{max:16,message:"最多输入16个字符"}],password:[{required:!0,message:"请输入"},{max:16,message:"最多输入16个字符"}]}}}},d=u,m=e("2877"),p=Object(m["a"])(d,s,r,!1,null,null,null);a["default"]=p.exports},"0fea":function(t,a,e){"use strict";e.d(a,"a",(function(){return n}));var s=e("b775"),r={user:"/user",role:"/role",permission:"/permission",permissionNoPager:"/permission/no-pager",orgTree:"/org/tree"};function n(t){return Object(s["b"])({url:r.role,method:"get",params:t})}},abdd:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a-modal",{attrs:{destroyOnClose:!0,width:900,height:600,visible:t.visible,title:"详情"},model:{value:t.visible,callback:function(a){t.visible=a},expression:"visible"}},[e("div",{staticClass:"main"},[[e("div",[e("a-row",{attrs:{type:"flex"}},[e("a-col",{staticStyle:{"margin-top":"5px"},attrs:{span:24}},[e("a-col",{attrs:{span:3,align:"right"}},[e("span",[t._v("连接名称:")])]),e("a-col",{staticStyle:{"padding-left":"10px"},attrs:{span:21}},[e("span",[t._v(" "+t._s(t.initvalue.name)+" ")])])],1),e("a-col",{staticStyle:{"margin-top":"5px"},attrs:{span:24}},[e("a-col",{attrs:{span:3,align:"right"}},[e("span",[t._v("url:")])]),e("a-col",{staticStyle:{"padding-left":"10px"},attrs:{span:21}},[e("span",[t._v(" "+t._s(t.initvalue.url)+" ")])])],1),e("a-col",{staticStyle:{"margin-top":"5px"},attrs:{span:24}},[e("a-col",{attrs:{span:3,align:"right"}},[e("span",[t._v("username:")])]),e("a-col",{staticStyle:{"padding-left":"10px"},attrs:{span:21}},[e("span",[t._v(" "+t._s(t.initvalue.username)+" ")])])],1),e("a-col",{staticStyle:{"margin-top":"5px"},attrs:{span:24}},[e("a-col",{attrs:{span:3,align:"right"}},[e("span",[t._v("password:")])]),e("a-col",{staticStyle:{"padding-left":"10px"},attrs:{span:21}},[e("span",[t._v(" "+t._s(t.initvalue.password)+" ")])])],1),e("a-col",{staticStyle:{"margin-top":"5px"},attrs:{span:24}},[e("a-col",{attrs:{span:3,align:"right"}},[e("span",[t._v("创建者:")])]),e("a-col",{staticStyle:{"padding-left":"10px"},attrs:{span:21}},[e("span",[t._v(" "+t._s(t.initvalue.creator)+" ")])])],1),e("a-col",{staticStyle:{"margin-top":"5px"},attrs:{span:24}},[e("a-col",{attrs:{span:3,align:"right"}},[e("span",[t._v("创建时间:")])]),e("a-col",{staticStyle:{"padding-left":"10px"},attrs:{span:21}},[e("span",[t._v(" "+t._s(t.gmtDateFormat(t.initvalue.gmtCreated))+" ")])])],1),e("a-col",{staticStyle:{"margin-top":"5px"},attrs:{span:24}},[e("a-col",{attrs:{span:3,align:"right"}},[e("span",[t._v("更新者:")])]),e("a-col",{staticStyle:{"padding-left":"10px"},attrs:{span:21}},[e("span",[t._v(" "+t._s(t.initvalue.modifier)+" ")])])],1),e("a-col",{staticStyle:{"margin-top":"5px"},attrs:{span:24}},[e("a-col",{attrs:{span:3,align:"right"}},[e("span",[t._v("更新时间:")])]),e("a-col",{staticStyle:{"padding-left":"10px"},attrs:{span:21}},[e("span",[t._v(" "+t._s(t.gmtDateFormat(t.initvalue.gmtModified))+" ")])])],1),e("a-col",{staticStyle:{"margin-top":"5px"},attrs:{span:24}},[e("a-col",{attrs:{span:3,align:"right"}},[e("span",[t._v("备注:")])]),e("a-col",{staticStyle:{"padding-left":"10px"},attrs:{span:21}},[e("span",[t._v(" "+t._s(t.initvalue.remark)+" ")])])],1)],1)],1)]],2),e("template",{slot:"footer"},[e("a-button",{on:{click:function(a){return t.handleClose()}}},[t._v(" 返回 ")])],1)],2)},r=[],n=e("c1df"),o=e.n(n),l={labelCol:{span:5},wrapperCol:{span:16}},i={methods:{show:function(){this.visible=!0},handleClose:function(){this.visible=!1},gmtDateFormat:function(t){return o()(t).format("yyyy-MM-DD HH:mm:ss")}},props:{initvalue:{type:Object,default:null}},data:function(){return{visible:!1,formItemLayout:l}}},c=i,u=e("2877"),d=Object(u["a"])(c,s,r,!1,null,null,null);a["default"]=d.exports},b054:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=this,e=a.$createElement,s=a._self._c||e;return s("a-card",{attrs:{bordered:!1}},[s("div",{staticClass:"table-page-search-wrapper"},[s("a-form",{attrs:{layout:"inline"}},[s("a-row",{attrs:{gutter:48}},[s("a-col",{attrs:{md:8,sm:24}},[s("a-form-item",{attrs:{label:"连接名称"}},[s("a-input",{attrs:{name:"name",placeholder:""},model:{value:a.queryParam.name,callback:function(t){a.$set(a.queryParam,"name",t)},expression:"queryParam.name"}})],1)],1),s("a-col",{attrs:{md:8,sm:24}},[s("a-form-item",{attrs:{label:"状态"}},[s("a-select",{attrs:{placeholder:"请选择","default-value":"0"},model:{value:a.queryParam.states,callback:function(t){a.$set(a.queryParam,"states",t)},expression:"queryParam.states"}},[s("a-select-option",{attrs:{value:""}},[a._v("全部")]),s("a-select-option",{attrs:{value:"1"}},[a._v("创建完成")]),s("a-select-option",{attrs:{value:"2"}},[a._v("审批中")]),s("a-select-option",{attrs:{value:"3"}},[a._v("正常")]),s("a-select-option",{attrs:{value:"4"}},[a._v("已禁用")])],1)],1)],1),a.advanced?void 0:a._e(),s("a-col",{attrs:{md:a.advanced?24:8,sm:24}},[s("span",{staticClass:"table-page-search-submitButtons",style:a.advanced&&{float:"right",overflow:"hidden"}||{}},[s("a-button",{attrs:{type:"primary"},on:{click:a.handleAdd}},[a._v("新建")]),s("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:function(t){return a.handleSearch()}}},[a._v("查询")]),s("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(){return t.queryParam={}}}},[a._v("重置")])],1)])],2)],1)],1),s("s-table",{ref:"table",attrs:{size:"default",rowKey:"id",columns:a.columns,data:a.loadData,alert:!0,rowSelection:a.rowSelection,pagination:{showTotal:function(t){return"共 "+t+" 条记录"}}},scopedSlots:a._u([{key:"serial",fn:function(t,e,r){return s("span",{},[a._v(" "+a._s(r+1)+" ")])}},{key:"status",fn:function(t){return s("span",{},[s("a-badge",{attrs:{status:a._f("statusTypeFilter")(t),text:a._f("statusFilter")(t)}})],1)}},{key:"url",fn:function(t){return s("span",{},[s("ellipsis",{attrs:{length:48,tooltip:""}},[a._v(a._s(t))])],1)}},{key:"name",fn:function(t){return s("span",{},[s("ellipsis",{attrs:{length:16,tooltip:""}},[a._v(a._s(t))])],1)}},{key:"gmtCreated",fn:function(t){return s("span",{},[s("ellipsis",{attrs:{length:64,tooltip:""}},[a._v(a._s(a.gmtDateFormat(t)))])],1)}},{key:"action",fn:function(t,e){return s("span",{},[[s("a",{on:{click:function(t){return a.handleEdit(e.id)}}},[a._v("编辑")]),a._v("  "),s("a",{on:{click:function(t){return a.handleDelete(e.id)}}},[a._v("删除")]),a._v("  "),s("a",{on:{click:function(t){return a.handleInfo(e.id)}}},[a._v("详情")]),a._v("  ")]],2)}}])}),s("AddOrEditForm",{ref:"AddOrEditForm",attrs:{initvalue:a.initvalue},on:{refresh:a.refresh}}),s("InfoTable",{ref:"InfoTable",attrs:{initvalue:a.initvalue},on:{refresh:a.refresh}})],1)},r=[],n=(e("b0c0"),e("2af9")),o=e("0fea"),l=e("b775"),i=e("f64c"),c=e("0ac8"),u=e("abdd"),d=e("c1df"),m=e.n(d);i["a"].config({duration:3,top:"40px",maxCount:3});var p={name:"DatasourcesList",components:{InfoTable:u["default"],STable:n["c"],Ellipsis:n["a"],AddOrEditForm:c["default"]},methods:{refresh:function(){this.$refs.table.refresh(!0)},handleSearch:function(){this.$refs.table.pagination.pageNo=1,this.$refs.table.refresh(!0)},handleEdit:function(t){var a=this;Object(l["b"])({url:"/datasources/datasourcesCrudViewFront?id="+t,method:"post",dataType:"json"}).then((function(t){"S"===t.head.status?(a.initvalue=t.body,a.$refs.AddOrEditForm.show()):i["a"].error(t.head.msg)})).catch((function(t){console.log(t)}))},handleAdd:function(){this.initvalue=null,this.$refs.AddOrEditForm.show()},handleDelete:function(t){var a=this.$refs.table;this.$confirm({title:"确认提示",content:"是否删除该条记录？",okType:"danger",okText:"确认",cancelText:"取消",onOk:function(){Object(l["b"])({url:"/datasources/datasourcesCrudJson?id="+t,method:"post"}).then((function(t){"S"===t.head.status?(i["a"].success("成功!"),a.refresh()):i["a"].error(t.head.msg)}))}})},handleInfo:function(t){var a=this;Object(l["b"])({url:"/datasources/datasourcesCrudViewFront?id="+t,method:"post",dataType:"json"}).then((function(t){"S"===t.head.status?(a.initvalue=t.body,a.$refs.InfoTable.show()):i["a"].error(t.head.msg)})).catch((function(t){console.log(t)}))},handleBan:function(t){0!==t.status?this.$message.info("".concat(t.name," 已停用")):this.$message.error("".concat(t.name," 停用失败"))},onSelectChange:function(t,a){this.selectedRowKeys=t,this.selectedRows=a},toggleAdvanced:function(){this.advanced=!this.advanced},gmtDateFormat:function(t){return m()(t).format("yyyy-MM-DD HH:mm:ss")}},data:function(){var t=this;return this.columns=f,{initvalue:{},visible:!1,confirmLoading:!1,dialogFormVisible:!1,mdl:null,advanced:!1,queryParam:{},loadData:function(a){var e=Object.assign({},a,t.queryParam);return Object(l["b"])({url:"/datasources/datasourcesPageJson",method:"get",params:e}).then((function(t){return t.result}))},selectedRowKeys:[],selectedRows:[]}},filters:{statusFilter:function(t){return h[t].text},statusTypeFilter:function(t){return h[t].status}},created:function(){Object(o["a"])({t:new Date})},computed:{rowSelection:function(){return{selectedRowKeys:this.selectedRowKeys,onChange:this.onSelectChange}}}},f=[{title:"#",width:"5%",scopedSlots:{customRender:"serial"}},{title:"连接名称",width:"10%",dataIndex:"name",scopedSlots:{customRender:"name"},needTotal:!0},{title:"url",dataIndex:"url",width:"30%",scopedSlots:{customRender:"url"}},{title:"创建时间",width:"15%",dataIndex:"gmtCreated",scopedSlots:{customRender:"gmtCreated"}},{title:"创建者",dataIndex:"creator",width:"5%"},{title:"状态",dataIndex:"status",width:"5%",scopedSlots:{customRender:"status"}},{title:"操作",dataIndex:"action",width:"30%",scopedSlots:{customRender:"action"}}],h={1:{status:"default",text:"创建完成"},2:{status:"processing",text:"审批中"},3:{status:"success",text:"正常"},4:{status:"warning",text:"已禁用"}},v=p,b=e("2877"),g=Object(b["a"])(v,s,r,!1,null,null,null);a["default"]=g.exports}}]);