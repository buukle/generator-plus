(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b1f68"],{"21a4":function(e,a,o){"use strict";o.r(a);var t=function(){var e=this,a=e.$createElement,o=e._self._c||a;return o("a-modal",{attrs:{destroyOnClose:!0,width:900,height:600,visible:e.visible,title:e.getTitle(e.initvalue)},model:{value:e.visible,callback:function(a){e.visible=a},expression:"visible"}},[o("div",{staticClass:"main"},[o("a-form-model",{ref:"form",attrs:{layout:e.formLayout,model:e.form,rules:e.rules}},[o("a-form-model-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:"id",prop:"id","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[o("a-input",{model:{value:e.form.id,callback:function(a){e.$set(e.form,"id",a)},expression:"form.id"}})],1),o("a-form-model-item",{attrs:{label:"模板名称",prop:"name","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[o("a-input",{attrs:{placeholder:"请输入模板名称"},model:{value:e.form.name,callback:function(a){e.$set(e.form,"name",a)},expression:"form.name"}}),o("span",{staticStyle:{color:"red","font-size":"12px","line-height":"1px"}},[e._v("请按照模板:A.B.btl填写,生成时会截取B值作为文件后缀名 ")])],1),o("a-form-model-item",{attrs:{label:"开启前段拼接",prop:"addNameSuffix","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[o("a-radio-group",{attrs:{name:"addNameSuffix","default-value":e.form.addNameSuffix},model:{value:e.form.addNameSuffix,callback:function(a){e.$set(e.form,"addNameSuffix",a)},expression:"form.addNameSuffix"}},[o("a-radio",{attrs:{value:"1"}},[e._v(" 开启 ")]),o("a-radio",{attrs:{value:"0"}},[e._v(" 不开启 ")])],1),o("br"),o("span",{staticStyle:{color:"grey","font-size":"12px","line-height":"1px"}},[e._v("模板:A.B.btl,开启后,生成的文件名为 {tablePath+A}.B , 不开启则为 {tablePath}.B")])],1),o("a-form-model-item",{attrs:{label:"工程路径",prop:"path","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[o("a-input",{attrs:{placeholder:"请输入工程路径"},model:{value:e.form.path,callback:function(a){e.$set(e.form,"path",a)},expression:"form.path"}})],1),o("a-form-model-item",{attrs:{label:"开启表名目录",prop:"openTablePath","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[o("a-radio-group",{attrs:{name:"openTablePath","default-value":e.form.openTablePath},model:{value:e.form.openTablePath,callback:function(a){e.$set(e.form,"openTablePath",a)},expression:"form.openTablePath"}},[o("a-radio",{attrs:{value:"1"}},[e._v(" 开启 ")]),o("a-radio",{attrs:{value:"0"}},[e._v(" 不开启 ")])],1),o("br"),o("span",{staticStyle:{color:"grey","font-size":"12px","line-height":"1px"}},[e._v("开启后,[在工程路径]末尾追加一层以表名小驼峰为名称的目录([包名]信息也会自动追加)")])],1),o("a-form-model-item",{attrs:{label:"包名",prop:"packageInfo","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[o("a-input",{attrs:{placeholder:"请输入包名"},model:{value:e.form.packageInfo,callback:function(a){e.$set(e.form,"packageInfo",a)},expression:"form.packageInfo"}}),o("span",{staticStyle:{color:"grey","font-size":"12px","line-height":"1px"}},[e._v("后端代码使用,前端代码若无包名需求可不填写(模板中使用${packageInfo} 获取该值)")])],1),o("a-form-model-item",{attrs:{label:"模板内容",prop:"name","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[o("a-textarea",{staticStyle:{"background-color":"#e6e6e6",color:"black",border:"0px","margin-top":"25px","-webkit-appearance":"none",padding:"15px"},attrs:{rows:"20",cols:"20",placeholder:"请输入模板内容"},model:{value:e.form.content,callback:function(a){e.$set(e.form,"content",a)},expression:"form.content"}})],1),o("a-form-model-item",{attrs:{label:"备注",prop:"remark","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[o("a-input",{attrs:{placeholder:"请输入备注"},model:{value:e.form.remark,callback:function(a){e.$set(e.form,"remark",a)},expression:"form.remark"}})],1)],1)],1),o("template",{slot:"footer"},[o("a-button",{attrs:{type:"primary"},on:{click:function(a){return e.handleEdit()}}},[e._v(" 提交 ")]),o("a-button",{on:{click:function(a){return e.handleClose()}}},[e._v(" 取消 ")])],1)],2)},r=[],l=o("2410"),m=o.n(l),n=o("b775"),i=o("f64c"),s={labelCol:{span:5},wrapperCol:{span:16}},p={components:{},props:{initvalue:{type:Object,default:null}},watch:{initvalue:function(){if(this.initvalue)for(var e in this.initvalue)this.form[e]=this.initvalue[e];else this.form=m()(this.initForm)}},methods:{getTitle:function(e){var a=this.$createElement;return a("span",e?[" 编辑 ",a("span",{style:"color: red;font-size: 12px;"},[" * 注 : 当前只兼容 beetl 模板语法 "])]:[" 新建 ",a("span",{style:"color: red;font-size: 12px;"},[" * 注 : 当前只兼容 beetl 模板语法 "])])},show:function(){this.visible=!0},handleClose:function(){this.form=m()(this.initForm),this.form.param="",this.visible=!1},handleEdit:function(){var e=this;this.$refs.form.validate((function(a){if(a){e.commonRequest.head.operationTime=Date.now(),e.commonRequest.body=e.form;var o=e.commonRequest;Object(n["b"])({url:"/templates/addOrEdit",method:"post",dataType:"json",data:o}).then((function(a){"S"===a.head.status?(i["a"].success(a.head.msg),e.handleClose(),e.$emit("refresh")):i["a"].error(a.head.msg)})).catch((function(e){console.log(e)}))}}))}},data:function(){return{visible:!1,formLayout:"horizontal",formItemLayout:s,form:{id:null,name:"",path:"",openTablePath:"",addNameSuffix:"",packageInfo:"",content:"",type:"",remark:""},initForm:{id:null,name:"",path:"",openTablePath:"",addNameSuffix:"",packageInfo:"",content:"",type:"",remark:""},rules:{name:[{required:!0,message:"请输入"},{max:50,message:"最多输入50个字符"},{pattern:/^(?!(\s+$))/,message:"输入格式错误"}],path:[{required:!0,message:"请输入"},{max:256,message:"最多输入256个字符"}],url:[{required:!0,message:"请输入"},{max:256,message:"最多输入256个字符"}],username:[{required:!0,message:"请输入"},{max:16,message:"最多输入16个字符"}],openTablePath:[{required:!0,message:"请选择"}],addNameSuffix:[{required:!0,message:"请选择"}],password:[{required:!0,message:"请输入"},{max:16,message:"最多输入16个字符"}]},commonRequest:{head:{operationTime:Date.now()},body:{}}}}},f=p,u=o("2877"),c=Object(u["a"])(f,t,r,!1,null,null,null);a["default"]=c.exports}}]);