(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d215db48","chunk-03f33594","chunk-71df2738","chunk-2d0af299"],{"03e8":function(e,t,a){},"0cc3":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{destroyOnClose:!0,width:900,height:600,visible:e.visible,title:e.getTitle(e.initvalue)},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("div",{staticClass:"main"},[[a("div",[a("a-row",{attrs:{type:"flex"}},[a("a-col",{staticStyle:{"margin-top":"5px"},attrs:{span:12}},[a("a-col",{attrs:{span:6,align:"right"}},[a("span",[e._v("模板分组:")])]),a("a-col",{staticStyle:{"padding-left":"10px"},attrs:{span:18}},[a("span",[e._v(" "+e._s(e.initvalue.templatesGroupName)+" ")])])],1),a("a-col",{staticStyle:{"margin-top":"5px"},attrs:{span:12}},[a("a-col",{attrs:{span:6,align:"right"}},[a("span",[e._v("模板名称:")])]),a("a-col",{staticStyle:{"padding-left":"10px"},attrs:{span:18}},[a("span",[e._v(" "+e._s(e.initvalue.name)+" ")])])],1),a("a-col",{staticStyle:{"margin-top":"5px"},attrs:{span:12}},[a("a-col",{attrs:{span:6,align:"right"}},[a("span",[e._v("文件名称模式:")])]),a("a-col",{staticStyle:{"padding-left":"10px"},attrs:{span:18}},[a("span",[e._v(" "+e._s(0==e.initvalue.addNameSuffix?"表名大驼峰":1==e.initvalue.addNameSuffix?"模板前中段":"表名大驼峰+模板前段")+" ")])])],1),a("a-col",{staticStyle:{"margin-top":"5px"},attrs:{span:24}},[a("a-col",{attrs:{span:3,align:"right"}},[a("span",[e._v("工程路径:")])]),a("a-col",{staticStyle:{"padding-left":"10px"},attrs:{span:18}},[a("span",[e._v(" "+e._s(e.initvalue.path)+" ")])])],1),a("a-col",{staticStyle:{"margin-top":"5px"},attrs:{span:12}},[a("a-col",{attrs:{span:6,align:"right"}},[a("span",[e._v("表名路径:")])]),a("a-col",{staticStyle:{"padding-left":"10px"},attrs:{span:18}},[a("span",[e._v(" "+e._s(1==e.initvalue.openTablePath?"开启":"关闭")+" ")])])],1),a("a-col",{staticStyle:{"margin-top":"5px"},attrs:{span:12}},[a("a-col",{attrs:{span:6,align:"right"}},[a("span",[e._v("包名:")])]),a("a-col",{staticStyle:{"padding-left":"10px"},attrs:{span:18}},[a("span",[e._v(" "+e._s(e.initvalue.packageInfo)+" ")])])],1),a("a-col",{staticStyle:{"margin-top":"5px"},attrs:{span:12}},[a("a-col",{attrs:{span:6,align:"right"}},[a("span",[e._v("创建者:")])]),a("a-col",{staticStyle:{"padding-left":"10px"},attrs:{span:18}},[a("span",[e._v(" "+e._s(e.initvalue.creator)+" ")])])],1),a("a-col",{staticStyle:{"margin-top":"5px"},attrs:{span:12}},[a("a-col",{attrs:{span:6,align:"right"}},[a("span",[e._v("创建时间:")])]),a("a-col",{staticStyle:{"padding-left":"10px"},attrs:{span:18}},[a("span",[e._v(" "+e._s(e.gmtDateFormat(e.initvalue.gmtCreated))+" ")])])],1),a("a-col",{staticStyle:{"margin-top":"5px"},attrs:{span:12}},[a("a-col",{attrs:{span:6,align:"right"}},[a("span",[e._v("更新者:")])]),a("a-col",{staticStyle:{"padding-left":"10px"},attrs:{span:18}},[a("span",[e._v(" "+e._s(e.initvalue.modifier)+" ")])])],1),a("a-col",{staticStyle:{"margin-top":"5px"},attrs:{span:12}},[a("a-col",{attrs:{span:6,align:"right"}},[a("span",[e._v("更新时间:")])]),a("a-col",{staticStyle:{"padding-left":"10px"},attrs:{span:18}},[a("span",[e._v(" "+e._s(e.gmtDateFormat(e.initvalue.gmtModified))+" ")])])],1),a("a-col",{staticStyle:{"margin-top":"5px"},attrs:{span:24}},[a("a-col",{attrs:{span:3,align:"right"}},[a("span",[e._v("模板内容:")])]),a("a-col",{staticStyle:{"padding-left":"10px"},attrs:{span:21}},[a("a-textarea",{staticStyle:{"background-color":"#e6e6e6",color:"black",border:"0px",cursor:"text","margin-top":"25px","-webkit-appearance":"none","border-radius":"0",padding:"15px"},attrs:{disabled:"",rows:"20",cols:"20",placeholder:""},model:{value:e.initvalue.content,callback:function(t){e.$set(e.initvalue,"content",t)},expression:"initvalue.content"}})],1)],1),a("a-col",{staticStyle:{"margin-top":"5px"},attrs:{span:24}},[a("a-col",{attrs:{span:3,align:"right"}},[a("span",[e._v("备注:")])]),a("a-col",{staticStyle:{"padding-left":"10px"},attrs:{span:21}},[a("span",[e._v(" "+e._s(e.initvalue.remark)+" ")])])],1)],1)],1)]],2),a("template",{slot:"footer"},[a("a-button",{on:{click:function(t){return e.handleClose()}}},[e._v(" 返回 ")])],1)],2)},l=[],n=a("c1df"),r=a.n(n),s={labelCol:{span:5},wrapperCol:{span:16}},i={methods:{getTitle:function(e){var t=this.$createElement;return t("span",[" 详情 ",t("span",{style:"color: red;font-size: 12px;"},[" * 注 : 当前只兼容 beetl 模板语法 "])])},show:function(){this.visible=!0},handleClose:function(){this.visible=!1},gmtDateFormat:function(e){return r()(e).format("yyyy-MM-DD HH:mm:ss")}},props:{initvalue:{type:Object,default:null}},data:function(){return{visible:!1,formItemLayout:s}}},p=i,c=a("2877"),m=Object(c["a"])(p,o,l,!1,null,null,null);t["default"]=m.exports},"12b9":function(e,t,a){"use strict";a("03e8")},"40fc":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{destroyOnClose:!0,width:1080,visible:e.visible,title:e.getTitle(e.initvalue)},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("div",{staticClass:"main"},[a("a-form-model",{ref:"form",attrs:{layout:e.formLayout,model:e.form,rules:e.rules}},[a("a-form-model-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:"id",prop:"id","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[a("a-input",{model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1),a("a-form-model-item",{attrs:{label:"名称",prop:"name","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"请输入名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("a-form-model-item",{attrs:{label:"自定义分组变量",prop:"paramList","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[e._l(e.form.paramList,(function(t,o){return a("a-form-item",e._b({key:o,attrs:{required:!1}},"a-form-item",e.formItemLayout,!1),[e._v(" ("),a("span",{domProps:{innerHTML:e._s(o+1)}}),e._v(") "),a("a-input",{staticStyle:{width:"30%","margin-right":"8px"},attrs:{"addon-before":"变量名",placeholder:"name"},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"k.name"}}),a("a-input",{staticStyle:{width:"30%","margin-right":"8px"},attrs:{"addon-before":"变量值",placeholder:"value"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"k.value"}}),e.form.paramList.length>0?a("a-icon",{staticClass:"dynamic-delete-button",attrs:{type:"minus-circle-o"},on:{click:function(){return e.remove(t)}}}):e._e()],1)})),a("a-form-item",e._b({},"a-form-item",e.formItemLayout,!1),[a("a-button",{staticStyle:{width:"60%"},attrs:{type:"dashed"},on:{click:e.add}},[a("a-icon",{attrs:{type:"plus"}}),e._v(" 添加分组变量 ")],1)],1)],2),a("a-form-model-item",{attrs:{label:"原工程路径子串(1)",prop:"pathToReplace","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"请输入工程路径将被替换的字符串"},model:{value:e.form.pathToReplace1,callback:function(t){e.$set(e.form,"pathToReplace1",t)},expression:"form.pathToReplace1"}})],1),a("a-form-model-item",{attrs:{label:"替换后工程路径子串(1)",prop:"pathReplaced","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"请输入工程路径替换后的字符串"},model:{value:e.form.pathReplaced1,callback:function(t){e.$set(e.form,"pathReplaced1",t)},expression:"form.pathReplaced1"}})],1),a("a-form-model-item",{attrs:{label:"原工程路径子串(2)",prop:"pathToReplace","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"请输入工程路径将被替换的字符串"},model:{value:e.form.pathToReplace2,callback:function(t){e.$set(e.form,"pathToReplace2",t)},expression:"form.pathToReplace2"}})],1),a("a-form-model-item",{attrs:{label:"替换后工程路径子串(2)",prop:"pathReplaced","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"请输入工程路径替换后的字符串"},model:{value:e.form.pathReplaced2,callback:function(t){e.$set(e.form,"pathReplaced2",t)},expression:"form.pathReplaced2"}})],1),a("a-form-model-item",{attrs:{label:"原包名子串",prop:"packageInfoToReplace","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"请输入包名将被替换的字符串"},model:{value:e.form.packageInfoToReplace,callback:function(t){e.$set(e.form,"packageInfoToReplace",t)},expression:"form.packageInfoToReplace"}})],1),a("a-form-model-item",{attrs:{label:"替换后包名子串",prop:"packageInfoReplaced","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"请输入包名替换后的字符串"},model:{value:e.form.packageInfoReplaced,callback:function(t){e.$set(e.form,"packageInfoReplaced",t)},expression:"form.packageInfoReplaced"}})],1)],1)],1),a("template",{slot:"footer"},[a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleEdit()}}},[e._v(" 提交 ")]),a("a-button",{on:{click:function(t){return e.handleClose()}}},[e._v(" 取消 ")])],1)],2)},l=[],n=(a("a434"),a("b0c0"),a("2410")),r=a.n(n),s=a("b775"),i=a("f64c"),p={components:{},props:{initvalue:{type:Object,default:null}},watch:{initvalue:function(){if(this.initvalue)for(var e in this.initvalue)this.form[e]=this.initvalue[e];else this.form=r()(this.initForm)},visible:function(e,t){if(!e)try{this.form=r()(this.initForm)}catch(a){}}},methods:{remove:function(e){for(var t=this.form.paramList.length,a=0;a<t;a++)this.form.paramList[a]===e&&this.form.paramList.splice(a,1)},add:function(){this.form.paramList.push({name:"",value:""})},getTitle:function(e){var t=this.$createElement;return t("span",[" 复制分组 "])},show:function(){this.visible=!0},handleClose:function(){this.form=r()(this.initForm),this.form.param="",this.visible=!1},handleEdit:function(){var e=this;this.$refs.form.validate((function(t){if(t){for(var a=!0,o=0;o<e.form.paramList.length;o++)""===e.form.paramList[o].name&&(i["a"].error("请填写 [自定义分组变量] 第"+(o+1)+'行 "变量名"'),a=!1),""===e.form.paramList[o].value&&(i["a"].error("请填写 [自定义分组变量] 第"+(o+1)+'行 "变量值"'),a=!1);if(a){var l=JSON.parse(JSON.stringify(e.form));e.commonRequest.head.operationTime=Date.now(),e.commonRequest.body=l;var n=e.commonRequest;Object(s["b"])({url:"/templatesGroup/copyWithTemplates",method:"post",dataType:"json",data:n}).then((function(t){"S"===t.head.status?(i["a"].success(t.head.msg),e.handleClose(),e.$emit("refresh")):i["a"].error(t.head.msg)})).catch((function(e){console.log(e)}))}}}))}},data:function(){return{formItemLayout:{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},visible:!1,formLayout:"horizontal",datasourcesList:[],form:{paramList:[],id:null,auditId:null,applicationCode:null,name:null,description:null,remark:null,pathToReplace1:null,pathReplaced1:null,pathToReplace2:null,pathReplaced2:null,packageInfoToReplace:null,packageInfoReplaced:null,gmtCreated:null,creator:null,creatorTenantId:null,creatorCode:null,gmtModified:null,modifier:null,modifierCode:null,auditStatus:null,status:null,bak01:null,bak02:null,bak03:null,bak04:null,bak05:null,end:""},initForm:{paramList:[],id:null,auditId:null,applicationCode:null,name:null,description:null,remark:null,pathToReplace:null,pathReplaced:null,packageInfoToReplace:null,packageInfoReplaced:null,gmtCreated:null,creator:null,creatorTenantId:null,creatorCode:null,gmtModified:null,modifier:null,modifierCode:null,auditStatus:null,status:null,bak01:null,bak02:null,bak03:null,bak04:null,bak05:null,end:""},rules:{name:[{required:!0,message:"请输入"},{max:50,message:"最多输入50个字符"},{pattern:/^(?!(\s+$))/,message:"输入格式错误"}]},commonRequest:{head:{operationTime:Date.now()},body:{}},bodyById:{id:0}}}},c=p,m=(a("a9e8"),a("2877")),u=Object(m["a"])(c,o,l,!1,null,null,null);t["default"]=u.exports},"66a2":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{destroyOnClose:!0,width:900,height:600,visible:e.visible,title:e.getTitle(e.initvalue)},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("div",{staticClass:"main"},[a("a-form-model",{ref:"form",attrs:{layout:e.formLayout,model:e.form,rules:e.rules}},[a("a-form-model-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:"id",prop:"id","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[a("a-input",{model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1),a("a-form-model-item",{attrs:{label:"模板分组",prop:"templatesGroupName","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[a("a-select",{attrs:{placeholder:"请选择分组"},on:{change:e.templatesGroupChange},model:{value:e.form.templatesGroupName,callback:function(t){e.$set(e.form,"templatesGroupName",t)},expression:"form.templatesGroupName"}},e._l(e.templatesGroupList,(function(t){return a("a-select-option",{key:t.id,attrs:{value:t.name?t.name:t.id+1,title:t.name}},[e._v(" "+e._s(t.name?t.name:t.id+1)+" ")])})),1),a("a-popover",{attrs:{title:"模板分组变量列表"}},[a("template",{slot:"content"},[a("a-table",{attrs:{columns:e.columnsGroupParam,pagination:!1,"data-source":e.form.templatesGroupParamList,bordered:""},scopedSlots:e._u([{key:"name",fn:function(t){return[a("a",[e._v(e._s(t))])]}}])})],1),a("span",[e._v("模板分组变量列表")]),a("a-icon",{attrs:{type:"question-circle"}})],2)],1),a("a-form-model-item",{attrs:{label:"模板名称",prop:"name","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"请输入模板名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),a("span",{staticStyle:{color:"grey","font-size":"12px","line-height":"1px"}},[e._v(" 请按照模板: "),a("span",{staticStyle:{color:"red","font-size":"12px","line-height":"1px"}},[e._v("A.B.btl")]),e._v(" 填写,生成目标文件时会截取"),a("span",{staticStyle:{color:"red"}},[e._v("B")]),e._v("值作为文件后缀名 ")])],1),a("a-form-model-item",{attrs:{label:"文件名称模式",prop:"addNameSuffix","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[a("a-radio-group",{attrs:{name:"addNameSuffix","default-value":e.form.addNameSuffix},model:{value:e.form.addNameSuffix,callback:function(t){e.$set(e.form,"addNameSuffix",t)},expression:"form.addNameSuffix"}},[a("a-radio",{attrs:{value:"0"}},[e._v(" ①. 表名大驼峰 ")]),a("a-radio",{attrs:{value:"1"}},[e._v(" ②. 模板前中段 ")]),a("a-radio",{attrs:{value:"2"}},[e._v(" ③. ①+② ")]),a("a-popover",{attrs:{title:"说明"}},[a("template",{slot:"content"},[a("span",{staticStyle:{color:"grey","font-size":"12px","line-height":"1px"}},[e._v("举例 -- 模板名称 : QueryDTO.vue.btl 表名:table_example ")]),a("br"),a("span",{staticStyle:{color:"grey","font-size":"12px","line-height":"1px"}},[e._v("生成的文件名为")]),a("br"),a("span",{staticStyle:{color:"grey","font-size":"12px","line-height":"1px"}},[e._v(" ① : "),a("span",{staticStyle:{color:"#2c65a0","font-size":"12px","line-height":"1px"}},[e._v("TableExample")]),e._v(".vue ")]),a("br"),a("span",{staticStyle:{color:"grey","font-size":"12px","line-height":"1px"}},[e._v(" ② : "),a("span",{staticStyle:{color:"red","font-size":"12px","line-height":"1px"}},[e._v("QueryDTO")]),e._v(".vue ")]),a("br"),a("span",{staticStyle:{color:"grey","font-size":"12px","line-height":"1px"}},[e._v(" ③ : "),a("span",{staticStyle:{color:"#2c65a0","font-size":"12px","line-height":"1px"}},[e._v("TableExample")]),a("span",{staticStyle:{color:"red","font-size":"12px","line-height":"1px"}},[e._v("QueryDTO")]),e._v(".vue ")])]),a("a-icon",{attrs:{type:"question-circle"}})],2)],1)],1),a("a-form-model-item",{staticStyle:{"margin-top":"-22px"},attrs:{label:"工程路径",prop:"path","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"请输入工程路径"},model:{value:e.form.path,callback:function(t){e.$set(e.form,"path",t)},expression:"form.path"}}),a("a-form-model-item",{attrs:{label:"表名路径",prop:"openTablePath","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[a("a-radio-group",{attrs:{name:"openTablePath","default-value":e.form.openTablePath},on:{change:e.openTablePathChange},model:{value:e.form.openTablePath,callback:function(t){e.$set(e.form,"openTablePath",t)},expression:"form.openTablePath"}},[a("a-radio",{attrs:{value:"1"}},[e._v(" 开启 ")]),a("a-radio",{attrs:{value:"0"}},[e._v(" 不开启 ")])],1),a("a-popover",{attrs:{title:"说明"}},[a("template",{slot:"content"},[a("span",{staticStyle:{color:"grey","font-size":"12px","line-height":"1px"}},[e._v("工程路径 : "),a("span",{staticStyle:{color:"#2c65a0","font-size":"12px","line-height":"1px"}},[e._v(" buukle-example/src/java")]),e._v(" 表名 : table_example ")]),a("br"),a("span",{staticStyle:{color:"grey","font-size":"12px","line-height":"1px"}},[e._v("生成的文件路径信息:")]),a("br"),a("span",{staticStyle:{color:"grey","font-size":"12px","line-height":"1px"}},[e._v(" 开启后 : "),a("span",{staticStyle:{color:"#2c65a0","font-size":"12px","line-height":"1px"}},[e._v(" buukle-example/src/java")]),a("span",{staticStyle:{color:"red","font-size":"12px","line-height":"1px"}},[e._v("/tableExample")]),e._v("/TableExample.java "),a("br"),e._v(" 不开启 : "),a("span",{staticStyle:{color:"#2c65a0","font-size":"12px","line-height":"1px"}},[e._v(" buukle-example/src/java")]),e._v("/TableExample.java ")])]),a("a-icon",{attrs:{type:"question-circle"}})],2)],1)],1),a("a-form-model-item",{staticStyle:{"margin-top":"-22px"},attrs:{label:"包名",prop:"packageInfo","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"请输入包名",suffix:e.suffix},model:{value:e.form.packageInfo,callback:function(t){e.$set(e.form,"packageInfo",t)},expression:"form.packageInfo"}}),a("span",{staticStyle:{color:"grey","font-size":"12px","line-height":"1px"}},[e._v("无包名需求可不填写(模板中使用${packageInfo} 获取该值)")])],1),a("a-form-model-item",{attrs:{label:"模板内容",prop:"name","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[a("a-popover",{attrs:{title:"全局变量列表"}},[a("template",{slot:"content"},[a("a-table",{attrs:{columns:e.columns,pagination:!1,"data-source":e.data,bordered:""},scopedSlots:e._u([{key:"name",fn:function(t){return[a("a",[e._v(e._s(t))])]}}])})],1),a("span",[e._v("全局变量列表")]),a("a-icon",{attrs:{type:"question-circle"}})],2),a("a-textarea",{staticStyle:{"background-color":"#e6e6e6",color:"black",border:"0px","margin-top":"25px","-webkit-appearance":"none",padding:"15px"},attrs:{rows:"20",cols:"20",placeholder:"请输入模板内容"},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1),a("a-form-model-item",{attrs:{label:"备注",prop:"remark","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"请输入备注"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1),a("template",{slot:"footer"},[a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleEdit()}}},[e._v(" 提交 ")]),a("a-button",{on:{click:function(t){return e.handleClose()}}},[e._v(" 取消 ")])],1)],2)},l=[],n=a("2410"),r=a.n(n),s=a("b775"),i=a("f64c"),p={labelCol:{span:5},wrapperCol:{span:16}},c=[{title:"变量",dataIndex:"name",scopedSlots:{customRender:"name"}},{title:"内容",dataIndex:"mean"}],m=[{title:"变量",dataIndex:"name",scopedSlots:{customRender:"name"}},{title:"内容",dataIndex:"value"}],u=[{name:"${dollar}",mean:'【$】(处理beetl的"$"转义问题,模板需要输出$时,直接${dollar} 取即可)'},{name:"${author}",mean:"【作者】"},{name:"${packageInfo}",mean:"【模板包名】"},{name:"${entity}",mean:"【实体名称(大驼峰)】"},{name:"${entityNameLowerCamelCase}",mean:"【实体名称(小驼峰)】"},{name:"${date}",mean:"【当前日期】"},{name:"${table.comment!}",mean:"【表注释】"},{name:"${table.name}",mean:"【实际表名】"},{name:"${field.comment}",mean:"【字段注释】"},{name:"${field.propertyType}",mean:"【字段类型(java语言)】"},{name:"${field.propertyName}",mean:"【字段名称(小驼峰)】"}],d={components:{},props:{initvalue:{type:Object,default:null}},watch:{initvalue:function(){if(this.initvalue){for(var e in this.initvalue)this.form[e]=this.initvalue[e];"1"===this.form.openTablePath?this.suffix=" .表名小驼峰":this.suffix=""}else this.form=r()(this.initForm)}},methods:{templatesGroupChange:function(e,t){var a=this;this.form.templatesGroupId=t.data.key,this.bodyById.id=t.data.key,this.commonRequest.body=this.bodyById;var o=this.commonRequest;Object(s["b"])({url:"/templatesGroup/getById",method:"post",dataType:"json",data:o}).then((function(e){"S"===e.head.status?a.form.templatesGroupParamList=e.body.paramList:i["a"].error(e.head.msg)})).catch((function(e){console.log(e)}))},getTemplatesGroupList:function(){var e=this,t=this.commonRequest;Object(s["b"])({url:"/templatesGroup/getTemplatesGroupList",method:"post",dataType:"json",data:t}).then((function(t){"S"===t.head.status?e.templatesGroupList=t.body:i["a"].error(t.head.msg)})).catch((function(e){console.log(e)}))},openTablePathChange:function(){"1"===this.form.openTablePath?this.suffix=" .表名小驼峰":this.suffix=""},getTitle:function(e){var t=this.$createElement;return t("span",e?[" 编辑 ",t("span",{style:"color: red;font-size: 12px;"},[" * 注 : 当前只兼容 beetl 模板语法 "])]:[" 新建 ",t("span",{style:"color: red;font-size: 12px;"},[" * 注 : 当前只兼容 beetl 模板语法 "])])},show:function(){this.visible=!0,this.getTemplatesGroupList()},handleClose:function(){this.form=r()(this.initForm),this.form.param="",this.visible=!1},handleEdit:function(){var e=this;this.$refs.form.validate((function(t){if(t){e.commonRequest.head.operationTime=Date.now(),e.commonRequest.body=e.form;var a=e.commonRequest;Object(s["b"])({url:"/templates/addOrEdit",method:"post",dataType:"json",data:a}).then((function(t){"S"===t.head.status?(i["a"].success(t.head.msg),e.handleClose(),e.$emit("refresh")):i["a"].error(t.head.msg)})).catch((function(e){console.log(e)}))}}))}},data:function(){return{data:u,columns:c,columnsGroupParam:m,visible:!1,suffix:"",formLayout:"horizontal",formItemLayout:p,templatesGroupList:[],form:{id:null,templatesGroupId:"",templatesGroupName:"",templatesGroupParamList:"",name:"",path:"",openTablePath:"",useOriginalName:"",addNameSuffix:"",packageInfo:"",content:"",type:"",remark:""},initForm:{id:null,templatesGroupId:"",templatesGroupName:"",templatesGroupParamList:"",name:"",path:"",openTablePath:"",useOriginalName:"",addNameSuffix:"",packageInfo:"",content:"",type:"",remark:""},rules:{name:[{required:!0,message:"请输入"},{max:50,message:"最多输入50个字符"},{pattern:/^(?!(\s+$))/,message:"输入格式错误"}],path:[{required:!0,message:"请输入"},{max:256,message:"最多输入256个字符"}],url:[{required:!0,message:"请输入"},{max:256,message:"最多输入256个字符"}],username:[{required:!0,message:"请输入"},{max:16,message:"最多输入16个字符"}],openTablePath:[{required:!0,message:"请选择"}],addNameSuffix:[{required:!0,message:"请选择"}],password:[{required:!0,message:"请输入"},{max:16,message:"最多输入16个字符"}],templatesGroupName:[{required:!0,message:"请输入模板分组"},{max:50,message:"请输入模板分组"}]},commonRequest:{head:{operationTime:Date.now()},body:{}},bodyById:{id:0}}}},f=d,h=(a("12b9"),a("2877")),v=Object(h["a"])(f,o,l,!1,null,null,null);t["default"]=v.exports},"7f69":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-row",{staticStyle:{"background-color":"white"},attrs:{type:"flex"}},[a("a-col",{staticStyle:{"padding-top":"10px","padding-left":"10px",width:"300px","overflow-y":"auto"},attrs:{span:6}},[a("a-tree",{attrs:{"tree-data":e.templatesGroupTree,"show-line":!0,defaultExpandAll:!0,selectedKeys:e.selectedKeys},on:{expand:e.onExpand,select:e.onSelect},scopedSlots:e._u([{key:"title",fn:function(t){var o=t.key,l=t.title;return[a("a-dropdown",{attrs:{trigger:["contextmenu"]},scopedSlots:e._u([{key:"overlay",fn:function(){return[a("a-menu",{on:{click:function(t){var a=t.key;return e.onContextMenuClick(o,a)}}},[a("a-menu-item",{key:"1"},[e._v("复制分组(带模板)")])],1)]},proxy:!0}],null,!0)},[a("span",[e._v(e._s(l))])])]}}])}),a("span",{staticStyle:{color:"rgb(169 150 150)","font-size":"12px"}},[e._v("ps : ")]),a("br"),a("span",{staticStyle:{color:"rgb(169 150 150)","font-size":"12px"}},[e._v("① 支持 右键 -> 复制分组 哦~")])],1),a("a-col",{staticStyle:{"padding-top":"10px","padding-left":"10px"},attrs:{span:18}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:48}},[a("a-input",{attrs:{type:"hidden",name:"templatesGroupId",placeholder:""},model:{value:e.queryParam.templatesGroupId,callback:function(t){e.$set(e.queryParam,"templatesGroupId",t)},expression:"queryParam.templatesGroupId"}}),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"模板名称"}},[a("a-input",{attrs:{name:"name",placeholder:""},model:{value:e.queryParam.name,callback:function(t){e.$set(e.queryParam,"name",t)},expression:"queryParam.name"}})],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"状态"}},[a("a-select",{attrs:{placeholder:"请选择","default-value":"0"},model:{value:e.queryParam.states,callback:function(t){e.$set(e.queryParam,"states",t)},expression:"queryParam.states"}},[a("a-select-option",{attrs:{value:""}},[e._v("全部")]),a("a-select-option",{attrs:{value:"1"}},[e._v("创建完成")]),a("a-select-option",{attrs:{value:"2"}},[e._v("审批中")]),a("a-select-option",{attrs:{value:"3"}},[e._v("正常")]),a("a-select-option",{attrs:{value:"4"}},[e._v("已禁用")])],1)],1)],1),e.advanced?void 0:e._e(),a("a-col",{attrs:{md:e.advanced?24:8,sm:24}},[a("span",{staticClass:"table-page-search-submitButtons",style:e.advanced&&{float:"right",overflow:"hidden"}||{}},[a("a-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新建")]),a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:function(t){return e.handleSearch()}}},[e._v("查询")]),a("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){return e.handleReset()}}},[e._v("重置")])],1)])],2)],1)],1),a("s-table",{ref:"table",attrs:{size:"default",rowKey:"id",columns:e.columns,data:e.loadData,alert:!0,rowSelection:e.rowSelection,pagination:{showTotal:function(e){return"共 "+e+" 条记录"}}},scopedSlots:e._u([{key:"serial",fn:function(t,o,l){return a("span",{},[e._v(" "+e._s(l+1)+" ")])}},{key:"status",fn:function(t){return a("span",{},[a("a-badge",{attrs:{status:e._f("statusTypeFilter")(t),text:e._f("statusFilter")(t)}})],1)}},{key:"name",fn:function(t){return a("span",{},[a("ellipsis",{attrs:{length:64,tooltip:""}},[e._v(e._s(t))])],1)}},{key:"gmtCreated",fn:function(t){return a("span",{},[a("ellipsis",{attrs:{length:64,tooltip:""}},[e._v(e._s(e.gmtDateFormat(t)))])],1)}},{key:"action",fn:function(t,o){return a("span",{},[[a("a",{on:{click:function(t){return e.handleEdit(o.id)}}},[e._v("编辑")]),e._v("  "),a("a",{on:{click:function(t){return e.handleDelete(o.id)}}},[e._v("删除")]),e._v("  "),a("a",{on:{click:function(t){return e.handleInfo(o.id)}}},[e._v("详情")]),e._v("  ")]],2)}}])}),a("AddOrEditForm",{ref:"AddOrEditForm",attrs:{initvalue:e.initvalue},on:{refresh:e.refresh}}),a("InfoTable",{ref:"InfoTable",attrs:{initvalue:e.initvalue},on:{refresh:e.refresh}}),a("Copy",{ref:"Copy",attrs:{initvalue:e.initGroupValue},on:{refresh:e.refresh}})],1)],1)},l=[],n=(a("99af"),a("b0c0"),a("d81d"),a("2af9")),r=a("b775"),s=a("f64c"),i=a("66a2"),p=a("0cc3"),c=a("40fc"),m=a("c1df"),u=a.n(m);s["a"].config({duration:3,top:"40px",maxCount:3});var d={mounted:function(){this.getTemplatesGroupTree()},name:"list",components:{InfoTable:p["default"],STable:n["c"],Ellipsis:n["a"],AddOrEditForm:i["default"],Copy:c["default"]},methods:{onContextMenuClick:function(e,t){var a=this;if(console.log("treeKey: ".concat(e,", menuKey: ").concat(t)),1==t){this.commonRequest.head.operationTime=Date.now(),this.bodyById.id=e,this.commonRequest.body=this.bodyById;var o=this.commonRequest;Object(r["b"])({url:"/templatesGroup/getById",method:"post",dataType:"json",data:o}).then((function(e){"S"===e.head.status?(a.initGroupValue=e.body,a.initGroupValue.name=a.initGroupValue.name+"-copy",a.$refs.Copy.show()):s["a"].error(e.head.msg)})).catch((function(e){console.log(e)}))}},handleReset:function(){this.queryParam={},this.queryParam.templatesGroupId=null,this.selectedKeys=[]},getTemplatesGroupTree:function(){var e=this;this.commonRequest.head.operationTime=Date.now();var t=this.commonRequest;Object(r["b"])({url:"/templatesGroup/getTemplatesGroupList",method:"post",dataType:"json",data:t}).then((function(t){if("S"===t.head.status){var a=t.body.map((function(e){return{title:e.name,key:e.id}})),o={title:"全部模板分组",key:""};o.children=a,e.templatesGroupTree=[o]}else s["a"].error(t.head.msg)})).catch((function(e){console.log(e)}))},onExpand:function(e){console.log("onExpand",e)},onSelect:function(e,t){this.queryParam={},this.queryParam.templatesGroupId=e[0],this.selectedKeys=e,this.$refs.table.refresh(!0)},refresh:function(){this.$refs.table.refresh(!0),this.getTemplatesGroupTree()},handleSearch:function(){this.$refs.table.pagination.pageNo=1,this.$refs.table.refresh(!0)},handleAdd:function(){this.initvalue={},this.$refs.AddOrEditForm.show()},handleDelete:function(e){var t=this.$refs.table;this.commonRequest.head.operationTime=Date.now(),this.bodyById.id=e,this.commonRequest.body=this.bodyById;var a=this.commonRequest;this.$confirm({title:"确认提示",content:"是否删除该条记录？",okType:"danger",okText:"确认",cancelText:"取消",onOk:function(){Object(r["b"])({url:"/templates/deleteById",method:"post",dataType:"json",data:a}).then((function(e){"S"===e.head.status?(s["a"].success("成功!"),t.refresh()):s["a"].error(e.head.msg)}))}})},handleEdit:function(e){var t=this;this.commonRequest.head.operationTime=Date.now(),this.bodyById.id=e,this.commonRequest.body=this.bodyById;var a=this.commonRequest;Object(r["b"])({url:"/templates/getById",method:"post",dataType:"json",data:a}).then((function(e){"S"===e.head.status?(t.initvalue=e.body,t.$refs.AddOrEditForm.show()):s["a"].error(e.head.msg)})).catch((function(e){console.log(e)}))},handleInfo:function(e){var t=this;this.commonRequest.head.operationTime=Date.now(),this.bodyById.id=e,this.commonRequest.body=this.bodyById;var a=this.commonRequest;Object(r["b"])({url:"/templates/getById",method:"post",dataType:"json",data:a}).then((function(e){"S"===e.head.status?(t.initvalue=e.body,t.$refs.InfoTable.show()):s["a"].error(e.head.msg)})).catch((function(e){console.log(e)}))},handleBan:function(e){0!==e.status?this.$message.info("".concat(e.name," 已停用")):this.$message.error("".concat(e.name," 停用失败"))},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},toggleAdvanced:function(){this.advanced=!this.advanced},gmtDateFormat:function(e){return u()(e).format("yyyy-MM-DD HH:mm:ss")}},data:function(){var e=this;return this.columns=f,{initvalue:{},initGroupValue:{},visible:!1,confirmLoading:!1,dialogFormVisible:!1,mdl:null,advanced:!1,queryParam:{},commonRequest:{head:{operationTime:Date.now()},body:{}},bodyById:{id:0},templatesGroupTree:[],selectedKeys:[],loadData:function(t){var a=Object.assign({},t,e.queryParam);e.commonRequest.head.operationTime=Date.now(),e.commonRequest.body=a;var o=e.commonRequest;return Object(r["b"])({url:"/templates/getPage",method:"post",dataType:"json",data:o}).then((function(e){return e.result}))},selectedRowKeys:[],selectedRows:[]}},filters:{statusFilter:function(e){return h[e].text},statusTypeFilter:function(e){return h[e].status}},computed:{rowSelection:function(){return{selectedRowKeys:this.selectedRowKeys,onChange:this.onSelectChange}}}},f=[{title:"序号",width:"10%",scopedSlots:{customRender:"serial"}},{title:"分组名称",width:"15%",dataIndex:"templatesGroupName",needTotal:!0},{title:"模板名称",width:"15%",dataIndex:"name",scopedSlots:{customRender:"name"},needTotal:!0},{title:"创建时间",width:"20%",dataIndex:"gmtCreated",scopedSlots:{customRender:"gmtCreated"}},{title:"创建者",dataIndex:"creator",width:"15%"},{title:"状态",dataIndex:"status",width:"10%",scopedSlots:{customRender:"status"}},{title:"操作",dataIndex:"action",width:"15%",scopedSlots:{customRender:"action"}}],h={1:{status:"default",text:"创建完成"},2:{status:"processing",text:"审批中"},3:{status:"success",text:"正常"},4:{status:"warning",text:"已禁用"}},v=d,y=a("2877"),b=Object(y["a"])(v,o,l,!1,null,null,null);t["default"]=b.exports},a9e8:function(e,t,a){"use strict";a("abca")},abca:function(e,t,a){}}]);