(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-03f33594"],{"03e8":function(e,a,t){},"12b9":function(e,a,t){"use strict";t("03e8")},"66a2":function(e,a,t){"use strict";t.r(a);var o=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("a-modal",{attrs:{destroyOnClose:!0,width:900,height:600,visible:e.visible,title:e.getTitle(e.initvalue)},model:{value:e.visible,callback:function(a){e.visible=a},expression:"visible"}},[t("div",{staticClass:"main"},[t("a-form-model",{ref:"form",attrs:{layout:e.formLayout,model:e.form,rules:e.rules}},[t("a-form-model-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:"id",prop:"id","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[t("a-input",{model:{value:e.form.id,callback:function(a){e.$set(e.form,"id",a)},expression:"form.id"}})],1),t("a-form-model-item",{attrs:{label:"模板分组",prop:"templatesGroupName","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[t("a-select",{attrs:{placeholder:"请选择分组"},on:{change:e.templatesGroupChange},model:{value:e.form.templatesGroupName,callback:function(a){e.$set(e.form,"templatesGroupName",a)},expression:"form.templatesGroupName"}},e._l(e.templatesGroupList,(function(a){return t("a-select-option",{key:a.id,attrs:{value:a.name?a.name:a.id+1,title:a.name}},[e._v(" "+e._s(a.name?a.name:a.id+1)+" ")])})),1),t("a-popover",{attrs:{title:"模板分组变量列表"}},[t("template",{slot:"content"},[t("a-table",{attrs:{columns:e.columnsGroupParam,pagination:!1,"data-source":e.form.templatesGroupParamList,bordered:""},scopedSlots:e._u([{key:"name",fn:function(a){return[t("a",[e._v(e._s(a))])]}}])})],1),t("span",[e._v("模板分组变量列表")]),t("a-icon",{attrs:{type:"question-circle"}})],2)],1),t("a-form-model-item",{attrs:{label:"模板名称",prop:"name","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[t("a-input",{attrs:{placeholder:"请输入模板名称"},model:{value:e.form.name,callback:function(a){e.$set(e.form,"name",a)},expression:"form.name"}}),t("span",{staticStyle:{color:"grey","font-size":"12px","line-height":"1px"}},[e._v(" 请按照模板: "),t("span",{staticStyle:{color:"red","font-size":"12px","line-height":"1px"}},[e._v("A.B.btl")]),e._v(" 填写,生成目标文件时会截取"),t("span",{staticStyle:{color:"red"}},[e._v("B")]),e._v("值作为文件后缀名 ")])],1),t("a-form-model-item",{attrs:{label:"文件名称模式",prop:"addNameSuffix","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[t("a-radio-group",{attrs:{name:"addNameSuffix","default-value":e.form.addNameSuffix},model:{value:e.form.addNameSuffix,callback:function(a){e.$set(e.form,"addNameSuffix",a)},expression:"form.addNameSuffix"}},[t("a-radio",{attrs:{value:"0"}},[e._v(" ①. 表名大驼峰 ")]),t("a-radio",{attrs:{value:"1"}},[e._v(" ②. 模板前中段 ")]),t("a-radio",{attrs:{value:"2"}},[e._v(" ③. ①+② ")]),t("a-popover",{attrs:{title:"说明"}},[t("template",{slot:"content"},[t("span",{staticStyle:{color:"grey","font-size":"12px","line-height":"1px"}},[e._v("举例 -- 模板名称 : QueryDTO.vue.btl 表名:table_example ")]),t("br"),t("span",{staticStyle:{color:"grey","font-size":"12px","line-height":"1px"}},[e._v("生成的文件名为")]),t("br"),t("span",{staticStyle:{color:"grey","font-size":"12px","line-height":"1px"}},[e._v(" ① : "),t("span",{staticStyle:{color:"#2c65a0","font-size":"12px","line-height":"1px"}},[e._v("TableExample")]),e._v(".vue ")]),t("br"),t("span",{staticStyle:{color:"grey","font-size":"12px","line-height":"1px"}},[e._v(" ② : "),t("span",{staticStyle:{color:"red","font-size":"12px","line-height":"1px"}},[e._v("QueryDTO")]),e._v(".vue ")]),t("br"),t("span",{staticStyle:{color:"grey","font-size":"12px","line-height":"1px"}},[e._v(" ③ : "),t("span",{staticStyle:{color:"#2c65a0","font-size":"12px","line-height":"1px"}},[e._v("TableExample")]),t("span",{staticStyle:{color:"red","font-size":"12px","line-height":"1px"}},[e._v("QueryDTO")]),e._v(".vue ")])]),t("a-icon",{attrs:{type:"question-circle"}})],2)],1)],1),t("a-form-model-item",{staticStyle:{"margin-top":"-22px"},attrs:{label:"工程路径",prop:"path","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[t("a-input",{attrs:{placeholder:"请输入工程路径"},model:{value:e.form.path,callback:function(a){e.$set(e.form,"path",a)},expression:"form.path"}}),t("a-form-model-item",{attrs:{label:"表名路径",prop:"openTablePath","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[t("a-radio-group",{attrs:{name:"openTablePath","default-value":e.form.openTablePath},on:{change:e.openTablePathChange},model:{value:e.form.openTablePath,callback:function(a){e.$set(e.form,"openTablePath",a)},expression:"form.openTablePath"}},[t("a-radio",{attrs:{value:"1"}},[e._v(" 开启 ")]),t("a-radio",{attrs:{value:"0"}},[e._v(" 不开启 ")])],1),t("a-popover",{attrs:{title:"说明"}},[t("template",{slot:"content"},[t("span",{staticStyle:{color:"grey","font-size":"12px","line-height":"1px"}},[e._v("工程路径 : "),t("span",{staticStyle:{color:"#2c65a0","font-size":"12px","line-height":"1px"}},[e._v(" buukle-example/src/java")]),e._v(" 表名 : table_example ")]),t("br"),t("span",{staticStyle:{color:"grey","font-size":"12px","line-height":"1px"}},[e._v("生成的文件路径信息:")]),t("br"),t("span",{staticStyle:{color:"grey","font-size":"12px","line-height":"1px"}},[e._v(" 开启后 : "),t("span",{staticStyle:{color:"#2c65a0","font-size":"12px","line-height":"1px"}},[e._v(" buukle-example/src/java")]),t("span",{staticStyle:{color:"red","font-size":"12px","line-height":"1px"}},[e._v("/tableExample")]),e._v("/TableExample.java "),t("br"),e._v(" 不开启 : "),t("span",{staticStyle:{color:"#2c65a0","font-size":"12px","line-height":"1px"}},[e._v(" buukle-example/src/java")]),e._v("/TableExample.java ")])]),t("a-icon",{attrs:{type:"question-circle"}})],2)],1)],1),t("a-form-model-item",{staticStyle:{"margin-top":"-22px"},attrs:{label:"包名",prop:"packageInfo","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[t("a-input",{attrs:{placeholder:"请输入包名",suffix:e.suffix},model:{value:e.form.packageInfo,callback:function(a){e.$set(e.form,"packageInfo",a)},expression:"form.packageInfo"}}),t("span",{staticStyle:{color:"grey","font-size":"12px","line-height":"1px"}},[e._v("无包名需求可不填写(模板中使用${packageInfo} 获取该值)")])],1),t("a-form-model-item",{attrs:{label:"模板内容",prop:"name","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[t("a-popover",{attrs:{title:"全局变量列表"}},[t("template",{slot:"content"},[t("a-table",{attrs:{columns:e.columns,pagination:!1,"data-source":e.data,bordered:""},scopedSlots:e._u([{key:"name",fn:function(a){return[t("a",[e._v(e._s(a))])]}}])})],1),t("span",[e._v("全局变量列表")]),t("a-icon",{attrs:{type:"question-circle"}})],2),t("a-textarea",{staticStyle:{"background-color":"#e6e6e6",color:"black",border:"0px","margin-top":"25px","-webkit-appearance":"none",padding:"15px"},attrs:{rows:"20",cols:"20",placeholder:"请输入模板内容"},model:{value:e.form.content,callback:function(a){e.$set(e.form,"content",a)},expression:"form.content"}})],1),t("a-form-model-item",{attrs:{label:"备注",prop:"remark","label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[t("a-input",{attrs:{placeholder:"请输入备注"},model:{value:e.form.remark,callback:function(a){e.$set(e.form,"remark",a)},expression:"form.remark"}})],1)],1)],1),t("template",{slot:"footer"},[t("a-button",{attrs:{type:"primary"},on:{click:function(a){return e.handleEdit()}}},[e._v(" 提交 ")]),t("a-button",{on:{click:function(a){return e.handleClose()}}},[e._v(" 取消 ")])],1)],2)},l=[],r=t("2410"),n=t.n(r),s=t("b775"),i=t("f64c"),m={labelCol:{span:5},wrapperCol:{span:16}},p=[{title:"变量",dataIndex:"name",scopedSlots:{customRender:"name"}},{title:"内容",dataIndex:"mean"}],c=[{title:"变量",dataIndex:"name",scopedSlots:{customRender:"name"}},{title:"内容",dataIndex:"value"}],u=[{name:"${dollar}",mean:'【$】(处理beetl的"$"转义问题,模板需要输出$时,直接${dollar} 取即可)'},{name:"${author}",mean:"【作者】"},{name:"${packageInfo}",mean:"【模板包名】"},{name:"${entity}",mean:"【实体名称(大驼峰)】"},{name:"${entityNameLowerCamelCase}",mean:"【实体名称(小驼峰)】"},{name:"${date}",mean:"【当前日期】"},{name:"${table.comment!}",mean:"【表注释】"},{name:"${table.name}",mean:"【实际表名】"},{name:"${field.comment}",mean:"【字段注释】"},{name:"${field.propertyType}",mean:"【字段类型(java语言)】"},{name:"${field.propertyName}",mean:"【字段名称(小驼峰)】"}],f={components:{},props:{initvalue:{type:Object,default:null}},watch:{initvalue:function(){if(this.initvalue){for(var e in this.initvalue)this.form[e]=this.initvalue[e];"1"===this.form.openTablePath?this.suffix=" .表名小驼峰":this.suffix=""}else this.form=n()(this.initForm)}},methods:{templatesGroupChange:function(e,a){var t=this;this.form.templatesGroupId=a.data.key,this.bodyById.id=a.data.key,this.commonRequest.body=this.bodyById;var o=this.commonRequest;Object(s["b"])({url:"/templatesGroup/getById",method:"post",dataType:"json",data:o}).then((function(e){"S"===e.head.status?t.form.templatesGroupParamList=e.body.paramList:i["a"].error(e.head.msg)})).catch((function(e){console.log(e)}))},getTemplatesGroupList:function(){var e=this,a=this.commonRequest;Object(s["b"])({url:"/templatesGroup/getTemplatesGroupList",method:"post",dataType:"json",data:a}).then((function(a){"S"===a.head.status?e.templatesGroupList=a.body:i["a"].error(a.head.msg)})).catch((function(e){console.log(e)}))},openTablePathChange:function(){"1"===this.form.openTablePath?this.suffix=" .表名小驼峰":this.suffix=""},getTitle:function(e){var a=this.$createElement;return a("span",e?[" 编辑 ",a("span",{style:"color: red;font-size: 12px;"},[" * 注 : 当前只兼容 beetl 模板语法 "])]:[" 新建 ",a("span",{style:"color: red;font-size: 12px;"},[" * 注 : 当前只兼容 beetl 模板语法 "])])},show:function(){this.visible=!0,this.getTemplatesGroupList()},handleClose:function(){this.form=n()(this.initForm),this.form.param="",this.visible=!1},handleEdit:function(){var e=this;this.$refs.form.validate((function(a){if(a){e.commonRequest.head.operationTime=Date.now(),e.commonRequest.body=e.form;var t=e.commonRequest;Object(s["b"])({url:"/templates/addOrEdit",method:"post",dataType:"json",data:t}).then((function(a){"S"===a.head.status?(i["a"].success(a.head.msg),e.handleClose(),e.$emit("refresh")):i["a"].error(a.head.msg)})).catch((function(e){console.log(e)}))}}))}},data:function(){return{data:u,columns:p,columnsGroupParam:c,visible:!1,suffix:"",formLayout:"horizontal",formItemLayout:m,templatesGroupList:[],form:{id:null,templatesGroupId:"",templatesGroupName:"",templatesGroupParamList:"",name:"",path:"",openTablePath:"",useOriginalName:"",addNameSuffix:"",packageInfo:"",content:"",type:"",remark:""},initForm:{id:null,templatesGroupId:"",templatesGroupName:"",templatesGroupParamList:"",name:"",path:"",openTablePath:"",useOriginalName:"",addNameSuffix:"",packageInfo:"",content:"",type:"",remark:""},rules:{name:[{required:!0,message:"请输入"},{max:50,message:"最多输入50个字符"},{pattern:/^(?!(\s+$))/,message:"输入格式错误"}],path:[{required:!0,message:"请输入"},{max:256,message:"最多输入256个字符"}],url:[{required:!0,message:"请输入"},{max:256,message:"最多输入256个字符"}],username:[{required:!0,message:"请输入"},{max:16,message:"最多输入16个字符"}],openTablePath:[{required:!0,message:"请选择"}],addNameSuffix:[{required:!0,message:"请选择"}],password:[{required:!0,message:"请输入"},{max:16,message:"最多输入16个字符"}],templatesGroupName:[{required:!0,message:"请输入模板分组"},{max:50,message:"请输入模板分组"}]},commonRequest:{head:{operationTime:Date.now()},body:{}},bodyById:{id:0}}}},d=f,h=(t("12b9"),t("2877")),b=Object(h["a"])(d,o,l,!1,null,null,null);a["default"]=b.exports}}]);